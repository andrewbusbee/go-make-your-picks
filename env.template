# =================================================================
# Go Make Your Picks - Environment Variables Template
# =================================================================
# Copy this file to .env and fill in the required values
# =================================================================

# =================================================================
# CRITICAL SECURITY - REQUIRED
# =================================================================
# Generate secure JWT secret (64 characters):
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# ⚠️ Application will NOT START without this in production!
JWT_SECRET=

# =================================================================
# JWT CONFIGURATION (Optional - has safe defaults)
# =================================================================
# JWT access token expiry (default: 8h)
# Magic links remain valid until round locks, but JWTs expire independently for security
# Format: number + unit (e.g., "8h", "30m", "1d")
# JWT_EXPIRY=8h

# =================================================================
# DATABASE (Has defaults, but change passwords for production)
# =================================================================
# MariaDB root password (for MariaDB service)
MARIADB_ROOT_PASSWORD=

# Database name (default: gomakeyourpicks)
MARIADB_DATABASE=gomakeyourpicks

# Database username (default: gomakeyourpicksuser)
MARIADB_USER=gomakeyourpicksuser

# Database password for the application user
MARIADB_PASSWORD=

# Database connection settings (for backend - set automatically in Docker)
# MARIADB_HOST=mariadb
# MARIADB_PORT=3306

# =================================================================
# EMAIL (Required for magic links and password reset)
# =================================================================
# For Gmail, you need an "App Password", not your regular password:
# https://support.google.com/accounts/answer/185833
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=noreply@yourdomain.com

# =================================================================
# APPLICATION
# =================================================================
# Your application's public URL (default: http://localhost:3003)
# For production behind reverse proxy: APP_URL=https://yourdomain.com
APP_URL=http://localhost:3003

# Logging verbosity level (default: INFO)
# Options: DEBUG, INFO, WARN, ERROR, FATAL, SILENT
# LOG_LEVEL=INFO

# CORS Configuration (Optional - APP_URL used as fallback)
# Comma-separated list of allowed origins for CORS in production
# Example: ALLOWED_ORIGINS=https://picks.example.com,https://admin.example.com
# If not set, APP_URL is used as the single allowed origin
# ALLOWED_ORIGINS=

# =================================================================
# RUNTIME ENVIRONMENT (Controls application behavior)
# =================================================================
# NODE_ENV controls runtime behavior for Express, logging, CORS, error handling, etc.
# 
# Values:
#   production - Used in Docker / deployed environments
#     - Enables production-safe settings (optimized builds, tighter CORS, less verbose logging, limited error details)
#     - Security headers enabled
#     - Admin-only API docs
#   development - Used for local development
#     - Enables verbose logging and development-friendly error details
#     - Permissive CORS for localhost
#     - Public API docs (no auth required)
#
# In Docker Compose, the backend is configured with NODE_ENV=production by default.
# For local development, use NODE_ENV=development (via docker-compose.override.yml or .env).
NODE_ENV=production

# Application port (set automatically in Docker, only needed for local dev)
# PORT=3003

# =================================================================
# DEVELOPMENT/TESTING (Runtime - no rebuild required)
# =================================================================
# Enable development tools (seed sample data buttons in admin dashboard)
# Set to 'true' to show dev tools, 'false' to hide them
# ⚠️ ENABLE_DEV_TOOLS should only be true when NODE_ENV=development.
# In production, this must always remain false — startup validation will exit if enabled.
# This can be toggled anytime by changing the value and restarting docker-compose
# No rebuild required - it's a runtime environment variable
ENABLE_DEV_TOOLS=false

